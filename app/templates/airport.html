<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DESTINO - 항공권 예약</title>
    <!-- 외부 라이브러리 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- 분리된 CSS 연결 -->
    <link rel="stylesheet" href="../static/airport.css">
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="header">
            <div class="container header-inner">
                <h1 class="logo"><a href="/">DESTINO</a></h1>
                <div class="header-search-bar">
                    <input type="text" placeholder="어디로 떠나시나요?" />
                </div>
                <nav class="header-nav">
                    <a href="/login">로그인</a>
                    <a href="#">이용안내</a>
                    <a href="#">고객센터</a>
                    <a href="#">KOR</a>
                </nav>
            </div>
            
            <!-- GNB (텍스트 전용) -->
                <nav class="gnb">
                    <div class="gnb-inner">
                        <a href="#" class="active">항공</a>
                        <a href="#">해외숙소</a>
                        <a href="#">국내숙소</a>
                        <a href="#">투어/티켓</a>
                        <a href="#">패키지</a>
                        <a href="#">렌터카</a>
                    </div>
                </nav>
        </header>

    <main class="flex-grow max-w-7xl mx-auto px-4 md:px-6 py-8 space-y-12 w-full">

        <!-- 검색 섹션 -->
        <section class="space-y-6">
            <h1 class="text-2xl md:text-3xl font-bold">어디로 떠나시나요? <span class="destino-gradient-text">운명의 목적지</span></h1>
            
            <div class="content-card p-6 md:p-8 space-y-6 relative z-40">
                <div class="flex gap-6 border-b border-gray-200 text-sm">
                    <button onclick="setTripType('round')" id="tab-round" class="search-tab active">왕복</button>
                    <button onclick="setTripType('one')" id="tab-one" class="search-tab">편도</button>
                    <button onclick="setTripType('multi')" id="tab-multi" class="search-tab">다구간</button>
                </div>

                <div class="flex flex-col lg:flex-row gap-4 relative">
                    <!-- 출발지 & 도착지 그룹 -->
                    <div class="flex flex-col md:flex-row gap-4 relative flex-grow-[2]">
                        <div class="relative group flex-1">
                            <div onclick="openSearchModal('dep')" class="bg-gray-50 hover:bg-gray-100 transition-colors p-4 rounded-xl border border-gray-200 cursor-pointer h-24 flex flex-col justify-center">
                                <label class="block text-xs text-gray-500 mb-1 font-medium">출발지</label>
                                <input type="text" id="dep-input" value="인천 (ICN)" class="bg-transparent font-bold text-gray-900 text-lg w-full outline-none cursor-pointer" readonly>
                                <div id="dep-sub" class="text-xs text-gray-400">대한민국</div>
                            </div>
                            <div id="dep-modal" class="hidden absolute top-full left-0 mt-2 w-full bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden dropdown-enter">
                                <div class="p-3 bg-gray-50 border-b border-gray-100">
                                    <input type="text" placeholder="도시, 공항명 검색" class="w-full bg-white border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500" oninput="filterList(this.value, 'dep-list')">
                                </div>
                                <ul id="dep-list" class="max-h-60 overflow-y-auto text-sm">
                                    <li onclick="selectLocation('dep', '인천 (ICN)', '대한민국')" class="px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 flex justify-between"><span>인천 (ICN)</span> <span class="text-gray-400 text-xs">KR</span></li>
                                    <li onclick="selectLocation('dep', '김포 (GMP)', '대한민국')" class="px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 flex justify-between"><span>김포 (GMP)</span> <span class="text-gray-400 text-xs">KR</span></li>
                                </ul>
                            </div>
                        </div>

                        <button onclick="swapLocations()" class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 bg-white text-blue-600 w-10 h-10 rounded-full border border-gray-200 shadow-md flex items-center justify-center hover:bg-blue-50 hover:rotate-180 transition-all duration-300">
                            <i class="fa-solid fa-arrow-right-arrow-left rotate-90 md:rotate-0"></i>
                        </button>

                        <div class="relative group flex-1">
                            <div onclick="openSearchModal('arr')" class="bg-gray-50 hover:bg-gray-100 transition-colors p-4 rounded-xl border border-gray-200 cursor-pointer h-24 flex flex-col justify-center">
                                <label class="block text-xs text-gray-500 mb-1 font-medium">도착지</label>
                                <input type="text" id="arr-input" placeholder="어디로 갈까요?" class="bg-transparent font-bold text-gray-900 text-lg w-full outline-none cursor-pointer placeholder-gray-400" readonly>
                                <div id="arr-sub" class="text-xs text-gray-400">도시, 공항 검색</div>
                            </div>
                            <div id="arr-modal" class="hidden absolute top-full left-0 mt-2 w-full bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden dropdown-enter">
                                <div class="p-3 bg-gray-50 border-b border-gray-100">
                                    <input type="text" placeholder="도시, 공항명 검색" class="w-full bg-white border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500" oninput="filterList(this.value, 'arr-list')">
                                </div>
                                <ul id="arr-list" class="max-h-60 overflow-y-auto text-sm">
                                    <li onclick="selectLocation('arr', '도쿄/나리타 (NRT)', '일본')" class="px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 flex justify-between"><span>도쿄/나리타 (NRT)</span> <span class="text-gray-400 text-xs">JP</span></li>
                                    <li onclick="selectLocation('arr', '다낭 (DAD)', '베트남')" class="px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 flex justify-between"><span>다낭 (DAD)</span> <span class="text-gray-400 text-xs">VN</span></li>
                                    <li onclick="selectLocation('arr', '방콕 (BKK)', '태국')" class="px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-50 flex justify-between"><span>방콕 (BKK)</span> <span class="text-gray-400 text-xs">TH</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- 일정 및 인원 (높이 보강됨) -->
                    <div class="relative flex-1">
                        <div onclick="toggleModal('date-pax-modal')" class="bg-gray-50 hover:bg-gray-100 transition-colors p-4 rounded-xl border border-gray-200 cursor-pointer h-24 flex flex-col justify-center">
                            <label class="block text-xs text-gray-500 mb-1 font-medium">일정 및 인원</label>
                            <div id="date-display" class="font-bold text-gray-900 text-sm md:text-base leading-tight">날짜를 선택하세요</div>
                            <div id="pax-display" class="text-xs text-gray-500 mt-1 font-medium">성인 1명</div>
                        </div>

                        <div id="date-pax-modal" class="hidden absolute top-full right-0 md:left-0 lg:left-auto lg:right-0 mt-2 w-full md:w-[380px] bg-white rounded-xl shadow-2xl border border-gray-100 z-50 p-5 dropdown-enter">
                            <div class="flex justify-between items-center mb-4">
                                <span id="cal-month-year" class="font-bold text-lg text-gray-800">2026년 3월</span>
                                <div class="flex gap-1">
                                    <button onclick="changeMonth(-1, event)" class="w-9 h-9 rounded-full hover:bg-gray-100 flex items-center justify-center text-gray-600"><i class="fa-solid fa-chevron-left text-sm"></i></button>
                                    <button onclick="changeMonth(1, event)" class="w-9 h-9 rounded-full hover:bg-gray-100 flex items-center justify-center text-gray-600"><i class="fa-solid fa-chevron-right text-sm"></i></button>
                                </div>
                            </div>
                            <div class="grid grid-cols-7 text-center text-xs text-gray-400 mb-3 font-medium">
                                <div class="text-red-400">일</div><div>월</div><div>화</div><div>수</div><div>목</div><div>금</div><div class="text-blue-400">토</div>
                            </div>
                            <div id="calendar-grid" class="grid grid-cols-7 text-center gap-y-1 mb-6 min-h-[220px]"></div>

                            <div class="border-t border-gray-100 pt-5 space-y-4">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <span class="text-sm font-bold block">성인</span>
                                        <span class="text-[10px] text-gray-400">만 12세 이상</span>
                                    </div>
                                    <div class="flex items-center gap-4">
                                        <button onclick="changePax('adult', -1, event)" class="w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center hover:bg-gray-50"><i class="fa-solid fa-minus text-xs"></i></button>
                                        <span id="pax-adult-count" class="font-bold w-4 text-center">1</span>
                                        <button onclick="changePax('adult', 1, event)" class="w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center hover:bg-gray-50"><i class="fa-solid fa-plus text-xs"></i></button>
                                    </div>
                                </div>
                                <div class="flex justify-between items-center">
                                    <div>
                                        <span class="text-sm font-bold block">소아</span>
                                        <span class="text-[10px] text-gray-400">만 2~12세 미만</span>
                                    </div>
                                    <div class="flex items-center gap-4">
                                        <button onclick="changePax('child', -1, event)" class="w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center hover:bg-gray-50"><i class="fa-solid fa-minus text-xs"></i></button>
                                        <span id="pax-child-count" class="font-bold w-4 text-center">0</span>
                                        <button onclick="changePax('child', 1, event)" class="w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center hover:bg-gray-50"><i class="fa-solid fa-plus text-xs"></i></button>
                                    </div>
                                </div>
                            </div>
                            <!-- 선택 완료 버튼 클릭 시에만 닫힘 -->
                            <button onclick="confirmSelection(event)" class="w-full mt-6 bg-blue-600 text-white py-4 rounded-xl text-base font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200">선택 완료</button>
                        </div>
                    </div>

                    <div onclick="performSearch()" class="bg-blue-600 hover:bg-blue-700 transition-colors text-white rounded-xl flex items-center justify-center font-bold text-lg cursor-pointer shadow-md shadow-blue-600/30 w-full lg:w-32 h-24 active:scale-95 transition-transform">
                        검색
                    </div>
                </div>

                <div id="recent-search-area" class="hidden flex-wrap items-center gap-3 text-xs pt-2">
                    <span class="text-gray-500 font-medium">최근 검색</span>
                    <div class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1.5 rounded-full flex items-center gap-2 border border-gray-200 cursor-pointer">
                        <span id="recent-text">데이터 없음</span>
                        <i onclick="clearRecent(event)" class="fa-solid fa-xmark text-gray-400 hover:text-gray-700"></i>
                    </div>
                </div>
            </div>
        </section>

        <!-- 프로모션 섹션 -->
        <section class="space-y-4">
            <div class="flex justify-between items-end">
                <h2 class="text-xl font-bold text-gray-900">이달의 특가 혜택</h2>
                <span class="text-sm text-blue-600 font-medium cursor-pointer">전체보기</span>
            </div>
            <div class="flex overflow-x-auto gap-4 hide-scrollbar pb-2">
                <div class="min-w-[300px] md:min-w-[420px] h-40 rounded-2xl bg-gradient-to-br from-blue-700 to-blue-500 text-white p-6 relative overflow-hidden group cursor-pointer shadow-lg">
                    <div class="relative z-10">
                        <p class="text-xs font-semibold text-blue-100 mb-1">항공권 최대 15%</p>
                        <h3 class="text-xl font-bold">KB국민카드 전용<br>동남아 노선 즉시 할인</h3>
                    </div>
                    <i class="fa-solid fa-plane-departure absolute -right-4 -bottom-4 text-9xl text-white/10 group-hover:translate-x-4 transition-transform duration-700"></i>
                </div>
                <div class="min-w-[300px] md:min-w-[420px] h-40 rounded-2xl bg-gradient-to-br from-indigo-700 to-purple-500 text-white p-6 relative overflow-hidden group cursor-pointer shadow-lg">
                    <div class="relative z-10">
                        <p class="text-xs font-semibold text-indigo-100 mb-1">신규 가입 혜택</p>
                        <h3 class="text-xl font-bold">지금 가입하면<br>발권 수수료 100% 면제</h3>
                    </div>
                    <i class="fa-solid fa-gift absolute -right-4 -bottom-4 text-9xl text-white/10 group-hover:scale-110 transition-transform duration-700"></i>
                </div>
            </div>
        </section>

        <!-- 추천 여행지 섹션 -->
        <section class="space-y-6">
            <h2 class="text-xl font-bold">지금 떠나기 좋은 여행지</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="group cursor-pointer">
                    <div class="aspect-[3/4] rounded-2xl bg-gray-200 overflow-hidden relative mb-2 shadow-sm">
                        <img src="https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?auto=format&fit=crop&w=400&q=80" alt="도쿄" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <div class="absolute bottom-3 left-3 text-white">
                            <p class="text-xs font-medium opacity-80">일본</p>
                            <p class="font-bold">도쿄</p>
                        </div>
                    </div>
                </div>
                <div class="group cursor-pointer">
                    <div class="aspect-[3/4] rounded-2xl bg-gray-200 overflow-hidden relative mb-2 shadow-sm">
                        <img src="https://images.unsplash.com/photo-1528127269322-539801943592?auto=format&fit=crop&w=400&q=80" alt="다낭" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <div class="absolute bottom-3 left-3 text-white">
                            <p class="text-xs font-medium opacity-80">베트남</p>
                            <p class="font-bold">다낭</p>
                        </div>
                    </div>
                </div>
                <div class="group cursor-pointer">
                    <div class="aspect-[3/4] rounded-2xl bg-gray-200 overflow-hidden relative mb-2 shadow-sm">
                        <img src="https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9?auto=format&fit=crop&w=400&q=80" alt="시드니" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <div class="absolute bottom-3 left-3 text-white">
                            <p class="text-xs font-medium opacity-80">호주</p>
                            <p class="font-bold">시드니</p>
                        </div>
                    </div>
                </div>
                <div class="group cursor-pointer">
                    <div class="aspect-[3/4] rounded-2xl bg-gray-200 overflow-hidden relative mb-2 shadow-sm">
                        <img src="https://images.unsplash.com/photo-1502602898657-3e91760cbb34?auto=format&fit=crop&w=400&q=80" alt="파리" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <div class="absolute bottom-3 left-3 text-white">
                            <p class="text-xs font-medium opacity-80">프랑스</p>
                            <p class="font-bold">파리</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- footer -->
        <footer class="footer">
            <div class="footer-container">
                <div class="footer-top">
                    <div class="footer-column">
                        <h3>고객센터</h3>
                        <p>오전 9시 ~ 새벽 3시 운영</p>
                        <p>채팅 상담 문의: 24시간 운영</p>
                        <div class="cs-buttons">
                            <a href="tel:1670-0000" class="btn-cs">
                                <span class="icon">📞</span>
                                <div class="text">
                                    <strong>1670-0000</strong>
                                </div>
                            </a>
                            <a href="#" class="btn-cs">
                                <span class="icon">💬</span>
                                <div class="text">
                                    <strong>채팅 상담</strong>
                                </div>
                            </a>
                        </div>
                    </div>

                    <div class="footer-column">
                        <h3>회사</h3>
                        <ul>
                            <li><a href="#">회사소개</a></li>
                            <li><a href="#">채용정보</a></li>
                            <li><a href="#">제휴문의</a></li>
                        </ul>
                    </div>

                    <div class="footer-column">
                        <h3>서비스</h3>
                        <ul>
                            <li><a href="#">공지사항</a></li>
                            <li><a href="#">자주 묻는 질문</a></li>
                            <li><a href="#">여행 매거진</a></li>
                        </ul>
                    </div>

                    <div class="footer-column">
                        <h3>혜택</h3>
                        <ul>
                            <li><a href="#">멤버십 안내</a></li>
                            <li><a href="#">공동예매 가이드</a></li>
                            <li><a href="#">포인트 정책</a></li>
                        </ul>
                    </div>

                    <div class="footer-column">
                        <h3>모든 여행</h3>
                        <ul>
                            <li><a href="#">국내 숙소</a></li>
                            <li><a href="#">해외 숙소</a></li>
                            <li><a href="#">항공권</a></li>
                            <li><a href="#">렌터카</a></li>
                        </ul>
                    </div>
                </div>

                <hr class="footer-divider" />

                <div class="footer-bottom">
                    <div class="company-info">
                        <p>(주)데스티노 컴퍼니 | 대표이사: 김여행 | 사업자등록번호: 000-00-00000</p>
                        <p>주소: 서울특별시 강남구 테헤란로 123 | 이메일: help@destino.com</p>
                        <p class="disclaimer">
                            데스티노는 통신판매중개자로서 통신판매의 당사자가 아니며, 상품의 예약, 이용 및 환불 등과
                            관련한 의무와 책임은 각 판매자에게 있습니다.
                        </p>

                        <div class="footer-policy">
                            <a href="#">이용약관</a>
                            <a href="#"><strong>개인정보처리방침</strong></a>
                            <a href="#">소비자 분쟁해결 기준</a>
                        </div>
                    </div>

                    <div class="social-links">
                        <a href="#" class="social-icon">YouTube</a>
                        <a href="#" class="social-icon">Instagram</a>
                        <a href="#" class="social-icon">Facebook</a>
                    </div>
                </div>
            </div>
        </footer>

    <!-- 분리된 JS 연결 -->
    <script src="../static/airport.js"></script>
</body>
</html>